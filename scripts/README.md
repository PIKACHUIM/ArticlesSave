# æ–‡ç« åŒæ­¥è„šæœ¬

è¿™ä¸ªè„šæœ¬ç”¨äºå°† `src/content/blog` ç›®å½•ä¸‹çš„ Markdown æ–‡ç« åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ è‡ªåŠ¨è§£æ Markdown æ–‡ä»¶çš„ frontmatter
- ğŸ·ï¸ æ”¯æŒæ ‡ç­¾ã€æ ‡é¢˜ã€æè¿°ç­‰å…ƒæ•°æ®æå–
- ğŸ“… è‡ªåŠ¨å¤„ç†æ—¥æœŸæ ¼å¼è½¬æ¢
- ğŸ”„ æ‰¹é‡åŒæ­¥æˆ–å•ç¯‡æ–‡ç« åŒæ­¥
- ğŸ§ª è°ƒè¯•æ¨¡å¼ï¼Œé¢„è§ˆè¦ä¸Šä¼ çš„æ•°æ®
- ğŸ“Š è¯¦ç»†çš„åŒæ­¥ç»“æœåé¦ˆ
- ğŸ–¼ï¸ è‡ªåŠ¨æ›¿æ¢å›¾ç‰‡è·¯å¾„ `/image/` ä¸º `https://record.pika.net.cn/image/`

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# åŒæ­¥æ‰€æœ‰æœ‰IDçš„æ–‡ç« 
pnpm run sync

# æˆ–è€…ç›´æ¥è¿è¡Œ
node scripts/sync.js
```

### å‘½ä»¤è¡Œé€‰é¡¹

```bash
# è°ƒè¯•æ¨¡å¼ï¼šåªæ˜¾ç¤ºè¦ä¸Šä¼ çš„æ•°æ®ï¼Œä¸å®é™…å‘é€è¯·æ±‚
node scripts/sync.js --dry-run

# è¯¦ç»†æ¨¡å¼ï¼šæ˜¾ç¤ºæ›´å¤šä¿¡æ¯åŒ…æ‹¬å†…å®¹é¢„è§ˆ
node scripts/sync.js --verbose

# åªåŒæ­¥æŒ‡å®šIDçš„æ–‡ç« 
node scripts/sync.js --id 5

# æŒ‡å®šJWT secret
node scripts/sync.js --jwt-secret your_secret_key

# ä½¿ç”¨ç¯å¢ƒå˜é‡è®¾ç½®JWT secret
JWT_SECRET=your_secret_key node scripts/sync.js

# ç»„åˆä½¿ç”¨
node scripts/sync.js --dry-run --verbose --jwt-secret your_key
node scripts/sync.js -d -v -j your_key  # ç®€å†™å½¢å¼

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
node scripts/sync.js --help
```

## æ–‡ä»¶è¦æ±‚

è„šæœ¬åªä¼šå¤„ç†åŒ…å« `ID` å­—æ®µçš„ Markdown æ–‡ä»¶ã€‚æ–‡ä»¶å¤´æ ¼å¼å¦‚ä¸‹ï¼š

```yaml
---
title: æ–‡ç« æ ‡é¢˜
description: æ–‡ç« æè¿°
pubDate: 12 15 2025
image: /image/path/to/image.jpg
categories:
  - Network
tags:
  - Cloudflare
  - Networking
badge: Cloudflare
ID: 5
---
```

### å¿…éœ€å­—æ®µ

- `ID`: æ–‡ç« çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºç”ŸæˆAPI URL
- `title`: æ–‡ç« æ ‡é¢˜
- `description`: æ–‡ç« æè¿°ï¼ˆä¼šä½œä¸ºaliasä¸Šä¼ ï¼‰

### å¯é€‰å­—æ®µ

- `pubDate`: å‘å¸ƒæ—¥æœŸï¼Œæ ¼å¼ä¸º `MM DD YYYY`ï¼ˆå¦‚ `12 15 2025`ï¼‰
- `tags`: æ–‡ç« æ ‡ç­¾æ•°ç»„

## æ•°æ®æ˜ å°„

è„šæœ¬ä¼šå°† Markdown æ–‡ä»¶çš„å…ƒæ•°æ®æ˜ å°„ä¸ºä»¥ä¸‹æ ¼å¼ä¸Šä¼ ï¼š

```json
{
  "title": "æ–‡ç« æ ‡é¢˜",
  "alias": "æ–‡ç« æè¿°", 
  "content": "Markdownå†…å®¹",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "listed": true,
  "draft": false,
  "createdAt": "2025-12-15T08:44:05.000Z"
}
```

## API ç«¯ç‚¹

è„šæœ¬ä¼šå‘ä»¥ä¸‹URLå‘é€POSTè¯·æ±‚ï¼š
```
https://server.524228.xyz/feed/<ID>
```

å…¶ä¸­ `<ID>` æ˜¯ä»æ–‡ä»¶ frontmatter ä¸­è¯»å–çš„IDå€¼ã€‚

## ğŸ”‘ JWT Secret è®¤è¯

è„šæœ¬æ”¯æŒJWT secretè®¤è¯ï¼Œç”¨äºéªŒè¯APIè¯·æ±‚ã€‚æœ‰ä¸‰ç§æ–¹å¼æŒ‡å®šJWT secretï¼š

### æ–¹å¼ä¸€ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
```bash
JWT_SECRET=your_secret_key pnpm run sync
```

### æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œå‚æ•°
```bash
# ä½¿ç”¨å®Œæ•´å‚æ•°å
pnpm run sync -- --jwt-secret your_secret_key

# ä½¿ç”¨ç®€å†™
pnpm run sync -- -j your_secret_key
```

### æ–¹å¼ä¸‰ï¼šé»˜è®¤å€¼
å¦‚æœä¸æŒ‡å®šä»»ä½•æ–¹å¼ï¼Œå°†ä½¿ç”¨é»˜è®¤å€¼ï¼š`VrRCvo7cHRAUWjTh`

### ğŸ† ä¼˜å…ˆçº§é¡ºåº
1. **ç¯å¢ƒå˜é‡** `JWT_SECRET`ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. **å‘½ä»¤è¡Œå‚æ•°** `--jwt-secret` æˆ– `-j`
3. **é»˜è®¤å€¼** `VrRCvo7cHRAUWjTh`ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰

### ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹
```bash
# åŸºæœ¬ä½¿ç”¨
JWT_SECRET=my123token pnpm run sync

# ç»“åˆè°ƒè¯•æ¨¡å¼
JWT_SECRET=my123token pnpm run sync -- --dry-run --verbose

# åªåŒæ­¥ç‰¹å®šæ–‡ç« 
JWT_SECRET=my123token pnpm run sync -- --id 5

# ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æŒ‡å®š
pnpm run sync -- --jwt-secret my123token --dry-run
```

### ğŸ” è¯·æ±‚å¤´æ ¼å¼
è„šæœ¬ä¼šåœ¨æ¯ä¸ªAPIè¯·æ±‚ä¸­åŒ…å«ä»¥ä¸‹è¯·æ±‚å¤´ï¼š
```http
Content-Type: application/json
jwt_secret: your_jwt_secret_value
```

è„šæœ¬è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„JWT secretï¼ˆéƒ¨åˆ†é®è”½ï¼‰ï¼Œç¡®ä¿æ‚¨çŸ¥é“æ­£åœ¨ä½¿ç”¨å“ªä¸ªå¯†é’¥è¿›è¡Œè®¤è¯ã€‚

## ç¤ºä¾‹è¾“å‡º

```bash
ğŸš€ å¼€å§‹åŒæ­¥æ–‡ç« ...
ğŸ”‘ ä½¿ç”¨ JWT Secret: VrRC****jTh
ğŸ“‚ æ‰¾åˆ° 3 ä¸ª Markdown æ–‡ä»¶

ğŸ“ å‡†å¤‡ä¸Šä¼ æ–‡ç« : Cloudflare ä¸åŒç±»å‹ä¼˜é€‰èŠ‚ç‚¹IPæ•™ç¨‹ (ID: 5)
   - æ ‡ç­¾: ["Cloudflare","Networking"]
   - åˆ›å»ºæ—¶é—´: 2025-12-15T08:44:05.000Z
   - æè¿°: æœ¬æ•™ç¨‹å°†ä»‹ç»å¦‚ä½•é€šè¿‡Cloudflareä¼˜é€‰IP...
   - å†…å®¹é•¿åº¦: 3847 å­—ç¬¦
   - ğŸ–¼ï¸ æ£€æµ‹åˆ°å›¾ç‰‡è·¯å¾„ï¼Œå°†æ›¿æ¢ /image/ ä¸º https://record.pika.net.cn/image/
âœ… æˆåŠŸä¸Šä¼ æ–‡ç«  ID: 5, æ ‡é¢˜: Cloudflare ä¸åŒç±»å‹ä¼˜é€‰èŠ‚ç‚¹IPæ•™ç¨‹

ğŸ‰ åŒæ­¥å®Œæˆ!
âœ… æˆåŠŸä¸Šä¼ : 1 ç¯‡æ–‡ç« 
ğŸ“Š æ€»å…±å¤„ç†: 1 ç¯‡æ–‡ç« 
```

## æ•…éšœæ’é™¤

### 403 Forbidden é”™è¯¯

å¦‚æœé‡åˆ° `HTTP 403 Forbidden` é”™è¯¯ï¼Œå¯èƒ½çš„åŸå› ï¼š
1. JWT secret ä¸æ­£ç¡®æˆ–æœªè®¾ç½®
2. APIéœ€è¦èº«ä»½éªŒè¯
3. IPåœ°å€è¢«é™åˆ¶
4. æœåŠ¡å™¨ç«¯é…ç½®é—®é¢˜

### 401 Unauthorized é”™è¯¯

å¦‚æœé‡åˆ° `HTTP 401 Unauthorized` é”™è¯¯ï¼Œé€šå¸¸è¡¨ç¤ºï¼š
- JWT secret éªŒè¯å¤±è´¥
- æ£€æŸ¥ç¯å¢ƒå˜é‡æˆ–å‘½ä»¤è¡Œå‚æ•°ä¸­çš„JWT secretæ˜¯å¦æ­£ç¡®

### è°ƒè¯•å»ºè®®

ä½¿ç”¨ `--dry-run` é€‰é¡¹æ¥é¢„è§ˆå°†è¦å‘é€çš„æ•°æ®ï¼š

```bash
node scripts/sync.js --dry-run --verbose
```

è¿™ä¼šæ˜¾ç¤ºå®Œæ•´çš„è¯·æ±‚ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½¿ç”¨çš„JWT secretï¼ˆéƒ¨åˆ†é®è”½ï¼‰ï¼Œå¸®åŠ©ä½ è°ƒè¯•é—®é¢˜ã€‚

### ğŸ” é”™è¯¯ä¿¡æ¯è¯´æ˜

è„šæœ¬ç°åœ¨ä¼šæ˜¾ç¤ºè¯¦ç»†çš„æœåŠ¡å™¨è¿”å›å†…å®¹ï¼š

```bash
# å¤±è´¥æ—¶çš„ç¤ºä¾‹è¾“å‡º
âŒ ä¸Šä¼ å¤±è´¥ ID 5: HTTP 401 Unauthorized
ğŸ“„ æœåŠ¡å™¨è¿”å›å†…å®¹: {"error": "Invalid JWT secret", "details": "è®¤è¯å¤±è´¥"}

# æˆåŠŸæ—¶å¦‚æœæœ‰è¿”å›å†…å®¹ä¹Ÿä¼šæ˜¾ç¤º
âœ… æˆåŠŸä¸Šä¼ æ–‡ç«  ID: 5, æ ‡é¢˜: æˆ‘çš„æ–‡ç« æ ‡é¢˜
ğŸ“„ æœåŠ¡å™¨è¿”å›: {"status": "success", "id": 5}
```

## æ³¨æ„äº‹é¡¹

- è„šæœ¬ä¼šåœ¨æ¯æ¬¡è¯·æ±‚ä¹‹é—´æ·»åŠ 1ç§’å»¶è¿Ÿï¼Œé¿å…è¯·æ±‚è¿‡å¿«
- åªæœ‰åŒ…å«æœ‰æ•ˆIDçš„æ–‡ç« æ‰ä¼šè¢«åŒæ­¥
- æ–‡ç« å†…å®¹ä¼šå®Œæ•´ä¸Šä¼ ï¼ŒåŒ…æ‹¬æ‰€æœ‰Markdownæ ¼å¼
- æ—¥æœŸæ ¼å¼ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºISOæ ¼å¼
- JWT secret ä¼˜å…ˆçº§ï¼šç¯å¢ƒå˜é‡ > å‘½ä»¤è¡Œå‚æ•° > é»˜è®¤å€¼
- è„šæœ¬è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„JWT secretï¼ˆéƒ¨åˆ†é®è”½ï¼‰
- æœåŠ¡å™¨è¿”å›çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯ä¼šè¢«æ‰“å°ï¼Œä¾¿äºè°ƒè¯•
- ğŸ–¼ï¸ å›¾ç‰‡è·¯å¾„è‡ªåŠ¨å¤„ç†ï¼šè„šæœ¬ä¼šå°†å†…å®¹ä¸­çš„ `/image/` è‡ªåŠ¨æ›¿æ¢ä¸º `https://record.pika.net.cn/image/`
- åœ¨è¯¦ç»†æ¨¡å¼ä¸‹ä¼šæ˜¾ç¤ºå›¾ç‰‡è·¯å¾„æ›¿æ¢ä¿¡æ¯